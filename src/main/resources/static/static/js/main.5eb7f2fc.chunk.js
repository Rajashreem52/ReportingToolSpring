(this["webpackJsonpontologio-fe"]=this["webpackJsonpontologio-fe"]||[]).push([[0],{247:function(e,t,a){e.exports=a(482)},252:function(e,t,a){},253:function(e,t,a){},482:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),i=(a(252),a(38)),c=(a(253),a(516)),s=a(526),m=a(519),u=a(523),d=a(517),p=a(525),g=a(512),E=a(520),f=a(524),h=a(123),v=a.n(h),y=a(228),b=a(513),x=a(515),S=a(81),N=a.n(S),O=a(41),w=a.n(O),C="https://reporting-tool-ontogio.herokuapp.com/api/auth/",j=function(e,t,a,n,r){return console.log("username"+e),w.a.post(C+"signup",{username:e,email:t,password:a,firstName:n,lastName:r})},k=function(e,t){return w.a.post(C+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},I=function(){console.log("Log out"),localStorage.removeItem("user"),localStorage.removeItem("curuser")},L=function(){if(null!=localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("user")).id;w.a.get(C+"users/"+e).then((function(e){e.data&&localStorage.setItem("curuser",JSON.stringify(e.data))}))}return JSON.parse(localStorage.getItem("user"))},J=function(e,t,a){return w.a.post(C+"purchase",{username:e,typel:t,price:a})},D=function(e,t,a,n,r,l){return w.a.post(C+"edit",{id:e,username:t,email:a,firstName:n,lastName:r,password:l})},T=function(){var e;null!=localStorage.getItem("user")&&(e=JSON.parse(localStorage.getItem("user")).id,w.a.get(C+"licenses/user/"+e).then((function(e){e.data&&localStorage.setItem("userlicences",JSON.stringify(e.data,null,2))})))},W=function(e){return w.a.post(C+"accept/"+e)},A=function(){w.a.get(C+"alllicenses").then((function(e){e.data&&localStorage.setItem("alllicences",JSON.stringify(e.data,null,2))}))},F=function(e,t,a){return w.a.post(C+"find",{userId:e,name:t,createTime:a})},P=function(e){return w.a.get("/api/test/pay/"+e)},B=function(){w.a.get(C+"licenseCategories").then((function(e){e.data&&localStorage.setItem("licenseCategories",JSON.stringify(e.data,null,2))}))},U=a(514);var q=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function V(e){var t=q(),a=Object(U.d)(),l=Object(n.useState)(""),o=Object(i.a)(l,2),h=o[0],b=o[1],S=Object(n.useState)(""),O=Object(i.a)(S,2),w=O[0],C=O[1];return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(c.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(s.a,{className:t.avatar},r.a.createElement(v.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:h,onChange:function(e){return function(e){var t=e.target.value;b(t)}(e)}}),r.a.createElement(u.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:w,onChange:function(e){return function(e){var t=e.target.value;C(t)}(e)}}),r.a.createElement(d.a,{control:r.a.createElement(p.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){e.preventDefault(),k(h,w).then((function(e){console.log("response:",e),a.push("/home"),window.location.reload()}),(function(e){e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}},"Sign In"),r.a.createElement(E.a,{container:!0},r.a.createElement(E.a,{item:!0},r.a.createElement(g.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up"))))),r.a.createElement(f.a,{mt:8},r.a.createElement(f.a,{display:"flex",justifyContent:"center"},r.a.createElement(N.a,null),r.a.createElement(g.a,{href:"/"},"Home"))))}var R=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function H(e){var t=R(),a=Object(n.useState)(""),l=Object(i.a)(a,2),o=l[0],c=l[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),h=p[0],b=p[1],S=Object(n.useState)(""),O=Object(i.a)(S,2),w=O[0],C=O[1],k=Object(n.useState)(""),I=Object(i.a)(k,2),L=I[0],J=I[1],D=Object(n.useState)(""),T=Object(i.a)(D,2),W=T[0],A=T[1];return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:t.paper},r.a.createElement(s.a,{className:t.avatar},r.a.createElement(v.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:t.form,noValidate:!0},r.a.createElement(E.a,{container:!0,spacing:2},r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(u.a,{autoComplete:"fname",name:"firstName",value:o,onChange:function(e){return function(e){var t=e.target.value;c(t)}(e)},variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})),r.a.createElement(E.a,{item:!0,xs:12,sm:6},r.a.createElement(u.a,{variant:"outlined",value:h,onChange:function(e){return function(e){var t=e.target.value;b(t)}(e)},required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,value:w,onChange:function(e){return function(e){var t=e.target.value;C(t)}(e)},id:"username",label:"Username",name:"username",autoComplete:"username"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,value:L,onChange:function(e){return function(e){var t=e.target.value;J(t)}(e)},id:"email",label:"Email Address",name:"email",autoComplete:"email"})),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(u.a,{variant:"outlined",required:!0,fullWidth:!0,value:W,onChange:function(e){return function(e){var t=e.target.value;A(t)}(e)},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}))),r.a.createElement(m.a,{type:"submit",onClick:function(e){e.preventDefault(),j(w,L,W,o,h).then((function(e){console.log("response:",e),alert("Signed up Successfully.")}),(function(e){console.log("error:",e);e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign Up"),r.a.createElement(E.a,{container:!0,justify:"flex-end"},r.a.createElement(E.a,{item:!0},r.a.createElement(g.a,{href:"/signin",variant:"body2"},"Already have an account? Sign in"))))),r.a.createElement(f.a,{mt:5},r.a.createElement(f.a,{display:"flex",justifyContent:"center"},r.a.createElement(N.a,null),r.a.createElement(g.a,{href:"/"},"Home"))))}var G=a(226);function Y(e){var t=e.children;Object(G.a)(e,["children"]);return r.a.createElement(x.a,{maxWidth:"sm",style:{marginTop:"64px",height:"600px"}},t)}var M=a(521),_=a(522),z=a(518),$=a(224),K=a.n($),Q=function(){var e=L(),t=JSON.parse(localStorage.getItem("curuser"));return console.log(t.email),r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,r.a.createElement("strong",null,t.username)," Profile")),r.a.createElement("p",null,r.a.createElement("strong",null,"Id:")," ",e.id),r.a.createElement("p",null,r.a.createElement("strong",null,"Email:")," ",t.email),r.a.createElement("p",null,r.a.createElement("strong",null,"First Name:")," ",t.firstName),r.a.createElement("p",null,r.a.createElement("strong",null,"Last Name:")," ",t.lastName),r.a.createElement("p",null,r.a.createElement("a",{href:"/EditProfile"}," ",r.a.createElement(m.a,{style:{marginLeft:"15px"},variant:"contained",color:"primary"},"Edit"))))},X=function(){L();var e=JSON.parse(localStorage.getItem("curuser")),t=(T(),JSON.parse(localStorage.getItem("userlicences")));console.log(t);B();var a=JSON.parse(localStorage.getItem("licenseCategories"));return console.log(a),r.a.createElement("div",{className:"container"},a&&a.map((function(t,a){return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron",style:{padding:"15px"}},r.a.createElement("h3",null,r.a.createElement("strong",null))),r.a.createElement("div",{style:{padding:"15px",marginLeft:"600px",marginRight:"600px"}},r.a.createElement(m.a,{type:"submit",onClick:function(){return n=a+1,r=t.price,console.log(n,r),void P(r).then((function(t){J(e.username,n,r).then((function(e){console.log("response:",e),window.location.href=t.data}),(function(e){e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))}),(function(e){e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}));var n,r},value:t.price,fullWidth:!0,variant:"contained",color:"primary"},t.type," (Price:",t.price,")")))})),r.a.createElement("div",null,r.a.createElement("table",{style:{marginLeft:"350px",marginTop:"50px",marginBottom:"100px",border:"1px solid #ddd"}},r.a.createElement("thead",null,r.a.createElement("th",{style:{border:"1px solid #ddd"}},"License Type"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"License Type"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"Year"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"Purchase Date"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"Expiration Date")),r.a.createElement("tbody",null,t&&t.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.type),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.price),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.year),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.purchaseDate),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.expiredDate))}))))))},Z=function(){L();var e,t,a,n,l,o=JSON.parse(localStorage.getItem("curuser"));function i(r){"email"===r.target.id?e=r.target.value:"fname"===r.target.id?t=r.target.value:"lname"===r.target.id?a=r.target.value:"password"===r.target.id?n=r.target.value:"username"===r.target.id&&(l=r.target.value)}return r.a.createElement("form",{style:{marginLeft:"600px",padding:"25px"}},r.a.createElement("p",null,r.a.createElement("label",null,"Id:",r.a.createElement("input",{type:"text",id:"id",value:o.id,style:{marginLeft:"50px"}}))),r.a.createElement("p",null,r.a.createElement("label",null,"UserName:",r.a.createElement("input",{type:"text",id:"username",onChange:i,defaultValue:o.username}))),r.a.createElement("p",null,r.a.createElement("label",null,"Email:",r.a.createElement("input",{type:"text",id:"email",onChange:i,defaultValue:o.email,style:{marginLeft:"30px"}}))),r.a.createElement("p",null,r.a.createElement("label",null,"First Name:",r.a.createElement("input",{type:"text",id:"fname",onChange:i,defaultValue:o.firstName}))),r.a.createElement("p",null,r.a.createElement("label",null,"Last Name:",r.a.createElement("input",{type:"text",id:"lname",onChange:i,defaultValue:o.lastName}))),r.a.createElement("p",null,r.a.createElement("label",null,"Password:",r.a.createElement("input",{type:"password",id:"password",onChange:i,style:{marginLeft:"5px"}}))),r.a.createElement("p",null,r.a.createElement(m.a,{onClick:function(r){console.log(e),console.log(t),console.log(a),D(o.id,l,e,t,a,n).then((function(e){console.log("response:",e),alert("Successfully Updated")}),(function(e){e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},variant:"contained",color:"primary"},"Save")))},ee=function(){L(),JSON.parse(localStorage.getItem("curuser")),A();var e=JSON.parse(localStorage.getItem("alllicences"));return console.log(e),r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron",style:{padding:"15px"}},r.a.createElement("h3",null,r.a.createElement("strong",null))),r.a.createElement("div",null,r.a.createElement("table",{style:{marginLeft:"350px",marginTop:"50px",marginBottom:"100px",border:"1px solid #ddd"}},r.a.createElement("thead",null,r.a.createElement("th",{style:{border:"1px solid #ddd"}},"Name"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"License Type"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"License Type"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"Year"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"Purchase Date"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"Expiration Date"),r.a.createElement("th",{style:{border:"1px solid #ddd"}},"Action")),r.a.createElement("tbody",null,e&&e.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.username),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.type),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.price),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.year),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.purchaseDate),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},e.expiredDate),r.a.createElement("td",{key:e.id,style:{border:"1px solid #ddd"}},r.a.createElement(m.a,{onClick:function(){return t=e.saleid,console.log(t),void W(t).then((function(e){console.log("response:",e),alert("Successfully Updated !!"),window.location.reload()}),(function(e){e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}));var t}},"ACCEPT")))}))))))},te=a(221),ae=a(222),ne=a(227),re=a(225),le=a(126),oe={width:"100%",height:"1000px"},ie=function(e){Object(ne.a)(a,e);var t=Object(re.a)(a);function a(){var e;Object(te.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={values:[]},e}return Object(ae.a)(a,[{key:"download",value:function(){var e=JSON.parse(localStorage.getItem("ontologies"));if(console.log(e),null!=e){var t=function(e,t){return null===t?"":t},a=Object.keys(e[0]),n=e.map((function(e){return a.map((function(a){return JSON.stringify(e[a],t)})).join(",")}));n.unshift(a.join(",")),n=n.join("\r\n");var r=document.createElement("a");r.setAttribute("href","data:text/csv;charset=utf-8,%EF%BB%BF"+encodeURIComponent(n)),r.setAttribute("download","download.csv"),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("ontologies"));if(console.log(e),null!=e){for(var t=[],a=20,n=function(a){var n={id:e[a].fromNode.id.toString(),data:{label:e[a].fromNode.name},position:{x:250,y:250}};t.some((function(e){return n.id===e.id}))||t.push(n);var r={id:e[a].toNode.id.toString(),data:{label:e[a].toNode.name},position:{x:250,y:250}};t.some((function(e){return r.id===e.id}))||t.push(r),t.push({id:e[a].fromNode.id.toString()+"_"+e[a].toNode.id.toString(),source:e[a].fromNode.id,target:e[a].toNode.id,animated:!1,label:e[a].edgeCategory,arrowHeadType:le.a.ArrowClosed})},r=0;r<e.length;r++)n(r);console.log(t);for(var l=0;l<t.length;l++){var o=t[l];o.id.includes("_")||(a+=100,o.position.x=a,o.position.y=a)}this.setState({values:t}),console.log(this.state.values),console.log(t)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(t){return e.download()}},"DOWNLOAD"),r.a.createElement(le.b,{elements:this.state.values,style:oe}))}}]),a}(r.a.Component),ce=function(){L();var e,t,a=JSON.parse(localStorage.getItem("curuser"));function n(a){"name"===a.target.id?e=a.target.value:"date"===a.target.id&&(t=a.target.value)}return r.a.createElement("form",{style:{marginLeft:"600px",padding:"25px"}},r.a.createElement("p",null,r.a.createElement("label",{style:{marginBottom:"100px",marginLeft:"50px"}},"SERACH ONTOLOGY")),r.a.createElement("p",null,r.a.createElement("label",null,"Ontology Name:"),r.a.createElement("select",{id:"name",onChange:n,style:{marginLeft:"20px"},placeholder:"Select Ontology"},r.a.createElement("option",null),r.a.createElement("option",null,"Architects"),r.a.createElement("option",null,"Civil Engineering"))),r.a.createElement("p",null,r.a.createElement("label",null,"Created Date:",r.a.createElement("input",{id:"date",type:"date",onChange:n,placeholder:"mm/dd/yy",style:{marginLeft:"30px"}}))),r.a.createElement("p",null,r.a.createElement(m.a,{onClick:function(n){console.log(e),console.log(t),console.log(a.id),F(a.id,e,t).then((function(e){console.log("response:",e),e.data?(console.log("response:",e.data),localStorage.setItem("ontologies",JSON.stringify(e.data)),window.location.href="http://localhost:"+window.location.port+"/ontology"):alert("Purchase license to see ontology")}),(function(e){e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},variant:"contained",color:"primary"},"Search")))},se=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},button:{margin:e.spacing(1)}}}));function me(e){var t=se(),a=Object(n.useState)(void 0),l=Object(i.a)(a,2),o=l[0],c=l[1],s=Object(U.d)(),u=!1;null!=L()&&1==L().id&&(u=!0),Object(n.useEffect)((function(){var e=L();e&&c(e)}),[]);var d=function(){I(),s.push("/"),window.location.reload()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{position:"static"},r.a.createElement(_.a,null,r.a.createElement(z.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(K.a,null)),r.a.createElement(y.a,{variant:"h6",className:t.title},r.a.createElement(E.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(N.a,{fontSize:"large"}),r.a.createElement(g.a,{href:"/",color:"inherit",underline:"none"},"Ontologio"))),o&&!u?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.button,color:"inherit",variant:"outlined",href:"/OntologySearch"},"Ontology"),r.a.createElement(m.a,{className:t.button,color:"inherit",variant:"outlined",href:"/profile"},"Profile"),r.a.createElement(m.a,{className:t.button,color:"inherit",variant:"outlined",href:"/license"},"License"),r.a.createElement(m.a,{color:"inherit",variant:"outlined",onClick:d},"Log out")):u?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.button,color:"inherit",variant:"outlined",href:"/OntologySearch"},"Ontology"),r.a.createElement(m.a,{className:t.button,color:"inherit",variant:"outlined",href:"/profile"},"Profile"),r.a.createElement(m.a,{className:t.button,color:"inherit",variant:"outlined",href:"/LicenseListAdmin"},"License"),r.a.createElement(m.a,{color:"inherit",variant:"outlined",onClick:d},"Log out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:t.button,color:"inherit",variant:"outlined",href:"/signin"},"Sign in"),r.a.createElement(m.a,{color:"inherit",variant:"outlined",href:"/signup"},"Sign up")))),r.a.createElement(U.c,null,r.a.createElement(U.a,{path:"/profile"},r.a.createElement(Q,null)),r.a.createElement(U.a,{path:"/license"},r.a.createElement(X,null)),r.a.createElement(U.a,{path:"/editprofile"},r.a.createElement(Z,null)),r.a.createElement(U.a,{path:"/LicenseListAdmin"},r.a.createElement(ee,null)),r.a.createElement(U.a,{path:"/ontology"},r.a.createElement(ie,null)),r.a.createElement(U.a,{path:"/OntologySearch"},r.a.createElement(ce,null))))}var ue=a(52);a(277);var de=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=(t[0],t[1],Object(ue.a)());return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(U.b,{history:a},r.a.createElement(U.c,null,r.a.createElement(U.a,{exact:!0,path:"/signin"},r.a.createElement(Y,null,r.a.createElement(V,null))),r.a.createElement(U.a,{exact:!0,path:"/signup"},r.a.createElement(Y,null,r.a.createElement(H,null))),r.a.createElement(U.a,{path:"/"},r.a.createElement(me,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[247,1,2]]]);
//# sourceMappingURL=main.5eb7f2fc.chunk.js.map